# Functional API Test Cases â€“ Billing and Payments

| ID             | Title                                              | Precondition                        | Steps                                                         | Expected Result                           | Actual Result | Status |
|-----------------|----------------------------------------------------|-------------------------------------|---------------------------------------------------------------|-------------------------------------------|---------------|--------|
| BP-API-FN-001   | Retrieve available plans                           | None                                | 1. Send GET request to /api/billing/plans <br> 2. Observe response | Response 200 with list of plans and pricing details |               |        |
| BP-API-FN-002   | Upgrade subscription successfully                  | User has valid payment method       | 1. Send POST to /api/billing/upgrade with valid plan ID <br> 2. Observe response | Response 200 with confirmation and updated subscription info |               |        |
| BP-API-FN-003   | Downgrade subscription updates billing             | User has existing subscription      | 1. Send POST to /api/billing/downgrade with new plan ID <br> 2. Observe response | Response 200 with confirmation and billing changes applied |               |        |
| BP-API-FN-004   | Add new payment method                             | User authenticated                  | 1. Send POST to /api/payment-methods with valid card data <br> 2. Observe response | Response 200 with payment method added to account |               |        |
| BP-API-FN-005   | Remove payment method                              | User has saved payment method       | 1. Send DELETE to /api/payment-methods/{id} <br> 2. Observe response | Response 200 with payment method removed |               |        |
| BP-API-FN-006   | Process payment with valid details                 | User has valid payment method       | 1. Send POST to /api/payments with valid amount and method <br> 2. Observe response | Response 200 with payment confirmation and receipt |               |        |
| BP-API-FN-007   | View billing history                               | User authenticated with transactions | 1. Send GET to /api/billing/history <br> 2. Observe response | Response 200 with full billing history list |               |        |
| BP-API-FN-008   | Invoice generation and download link               | User has invoices                   | 1. Send GET to /api/billing/invoices/{id} <br> 2. Observe response | Response 200 with invoice download link or PDF data |               |        |