# Negative API Test Cases â€“ Billing and Payments

| ID             | Title                                              | Precondition                        | Steps                                                         | Expected Result                           | Actual Result | Status |
|-----------------|----------------------------------------------------|-------------------------------------|---------------------------------------------------------------|-------------------------------------------|---------------|--------|
| BP-API-NT-001   | Add payment method with invalid card number       | User authenticated                  | 1. Send POST to /api/payment-methods with invalid card data <br> 2. Observe response | Server returns 400 with validation error message |               |        |
| BP-API-NT-002   | Add payment method with expired card              | User authenticated                  | 1. Send POST to /api/payment-methods with expired card details <br> 2. Observe response | Server returns 400 with validation error about expiration |               |        |
| BP-API-NT-003   | Payment with insufficient funds                   | User has payment method with low balance | 1. Send POST to /api/payments with valid details <br> 2. Simulate insufficient funds at gateway | Server returns 402 or specific error about insufficient funds |               |        |
| BP-API-NT-004   | Refund request for non-refundable transaction     | User has non-refundable transaction | 1. Send POST to /api/refunds with non-refundable transaction ID <br> 2. Observe response | Server returns 400/403 with error about non-refundable policy |               |        |
| BP-API-NT-005   | Payment with invalid promo code                   | User authenticated                  | 1. Send POST to /api/payments with invalid promo code <br> 2. Observe response | Server returns 400 with error about invalid promo code |               |        |
| BP-API-NT-006   | Payment request with missing required fields      | User authenticated                  | 1. Send POST to /api/payments with empty or incomplete payload <br> 2. Observe response | Server returns 400 with validation errors |               |        |
| BP-API-NT-007   | Access billing history without authentication     | None                                | 1. Send GET to /api/billing/history without auth token <br> 2. Observe response | Server returns 401 Unauthorized |               |        |