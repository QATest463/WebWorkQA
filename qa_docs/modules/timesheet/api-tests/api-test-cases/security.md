# Security API Test Cases â€“ Timesheet Module

| ID               | Title                                           | Precondition                        | Steps                                                         | Expected Result                           | Actual Result | Status |
|-------------------|-------------------------------------------------|-------------------------------------|---------------------------------------------------------------|-------------------------------------------|---------------|--------|
| TS-API-SC-001     | Unauthorized access returns 401                 | None                                | 1. Send request to /api/timesheet without auth token <br> 2. Observe response | 401 Unauthorized error returned |               |        |
| TS-API-SC-002     | Role-based access for viewing team timesheets  | User with limited role              | 1. Log in as regular user <br> 2. Send GET for another user's entries <br> 3. Observe response | 403 Forbidden or access denied |               |        |
| TS-API-SC-003     | Role-based access for approving entries        | User with limited role              | 1. Log in as regular user <br> 2. Send POST to /api/timesheet/{id}/approve <br> 3. Observe response | 403 Forbidden or access denied |               |        |
| TS-API-SC-004     | User can only edit/delete own entries          | User authenticated                  | 1. Send PUT/DELETE to /api/timesheet/{otherUserId} <br> 2. Observe response | 403 Forbidden or validation error |               |        |
| TS-API-SC-005     | API enforces role permissions for approvals    | User with limited role              | 1. Send approval/rejection requests without manager role <br> 2. Observe response | 403 Forbidden error returned |               |        |
| TS-API-SC-006     | Validation against tampered time entry IDs     | User authenticated                  | 1. Modify request to use invalid/unauthorized ID <br> 2. Send request | 403 Forbidden or validation error returned |               |        |
| TS-API-SC-007     | Secure export/download links require authentication | User not logged in               | 1. Attempt to access export endpoint without auth <br> 2. Observe response | 401 Unauthorized error returned |               |        |
| TS-API-SC-008     | Enforce HTTPS-only connections                  | None                                | 1. Attempt to access API over HTTP <br> 2. Observe response | Server redirects to HTTPS or blocks insecure request |               |        |